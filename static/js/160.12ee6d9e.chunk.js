"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[160],{639:function(t,e,n){n.d(e,{a:function(){return s}});var a="Loader_wrapperSpiner__x8OsO",i=n(691),r=n(184),s=function(){return(0,r.jsx)("div",{className:a,children:(0,r.jsx)(i.s5,{strokeColor:"blue",strokeWidth:"5",animationDuration:"0.75",width:"150",visible:!0})})}},388:function(t,e,n){n.d(e,{Z:function(){return j}});var a=n(689),i=n(87),r="MoviesList_moviesList__P6SP5",s="MoviesList_moviesLink__sYKmc",c="MoviesList_cardWrap__8WH9T",o="MoviesList_imgItem__bz8gU",u=n(671),l=n(144),p=n(120);function f(){return f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,p.Z)(t)););return t}(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},f.apply(this,arguments)}var h=n(136),d=n(516),v=n(791);function m(){return m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},m.apply(this,arguments)}var _={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},w=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"];var x=["component","ellipsis","trimRight","className"];function y(t,e){for(;t&&e--;)t=t.previousElementSibling;return t}var g={basedOn:void 0,className:"",component:"div",ellipsis:"\u2026",maxLine:1,onReflow:function(){},text:"",trimRight:!0,winWidth:void 0},b=Object.keys(g),k=function(t){(0,h.Z)(n,t);var e=(0,d.Z)(n);function n(t){var a;return(0,u.Z)(this,n),(a=e.call(this,t)).state={text:t.text,clamped:!1},a.units=[],a.maxLine=0,a.canvas=null,a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.initCanvas(),this.reflow(this.props)}},{key:"componentDidUpdate",value:function(t){t.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.props!==t&&this.reflow(this.props)}},{key:"componentWillUnmount",value:function(){this.canvas.parentNode.removeChild(this.canvas),this.canvas=null}},{key:"setState",value:function(t,e){return"undefined"!==typeof t.clamped&&(this.clamped=t.clamped),f((0,p.Z)(n.prototype),"setState",this).call(this,t,e)}},{key:"initCanvas",value:function(){if(!this.canvas){var t=this.canvas=document.createElement("div");t.className="LinesEllipsis-canvas ".concat(this.props.className),t.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(_).forEach((function(e){t.style[e]=_[e]})),document.body.appendChild(t)}}},{key:"copyStyleToCanvas",value:function(){var t=this,e=window.getComputedStyle(this.target);w.forEach((function(n){t.canvas.style[n]=e[n]}))}},{key:"reflow",value:function(t){var e=t.basedOn||(/^[\x00-\x7F]+$/.test(t.text)?"words":"letters");switch(e){case"words":this.units=t.text.split(/\b|(?=\W)/);break;case"letters":this.units=Array.from(t.text);break;default:throw new Error("Unsupported options basedOn: ".concat(e))}this.maxLine=+t.maxLine||1,this.canvas.innerHTML=this.units.map((function(t){return"<span class='LinesEllipsis-unit'>".concat(t,"</span>")})).join("");var n=this.putEllipsis(this.calcIndexes()),a=n>-1,i={clamped:a,text:a?this.units.slice(0,n).join(""):t.text};this.setState(i,t.onReflow.bind(this,i))}},{key:"calcIndexes",value:function(){var t=[0],e=this.canvas.firstElementChild;if(!e)return t;for(var n=0,a=1,i=e.offsetTop;(e=e.nextElementSibling)&&(e.offsetTop>i&&(a++,t.push(n),i=e.offsetTop),n++,!(a>this.maxLine)););return t}},{key:"putEllipsis",value:function(t){if(t.length<=this.maxLine)return-1;var e=t[this.maxLine],n=this.units.slice(0,e),a=this.canvas.children[e].offsetTop;this.canvas.innerHTML=n.map((function(t,e){return"<span class='LinesEllipsis-unit'>".concat(t,"</span>")})).join("")+"<wbr><span class='LinesEllipsis-ellipsis'>".concat(this.props.ellipsis,"</span>");for(var i=this.canvas.lastElementChild,r=y(i,2);r&&(i.offsetTop>a||i.offsetHeight>r.offsetHeight||i.offsetTop>r.offsetTop);)this.canvas.removeChild(r),r=y(i,2),n.pop();return n.length}},{key:"isClamped",value:function(){return this.clamped}},{key:"render",value:function(){var t=this,e=this.state,n=e.text,a=e.clamped,i=this.props,r=i.component,s=i.ellipsis,c=i.trimRight,o=i.className,u=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(i,x);return v.createElement(r,m({className:"LinesEllipsis ".concat(a?"LinesEllipsis--clamped":""," ").concat(o),ref:function(e){return t.target=e}},function(t,e){if(!t||"object"!==typeof t)return t;var n={};return Object.keys(t).forEach((function(a){e.indexOf(a)>-1||(n[a]=t[a])})),n}(u,b)),a&&c?n.replace(/[\s\uFEFF\xA0]+$/,""):n,v.createElement("wbr",null),a&&v.createElement("span",{className:"LinesEllipsis-ellipsis"},s))}}]),n}(v.Component);k.defaultProps=g;var Z=n(184),j=function(t){var e=t.films,n=(0,a.TH)();return(0,Z.jsx)("ul",{className:r,children:e.map((function(t){var e=t.id,a=t.title,r=t.overview,u=t.poster_path;return(0,Z.jsx)("li",{className:s,children:(0,Z.jsxs)(i.rU,{to:"/movies/".concat(e),state:{from:n},children:[(0,Z.jsx)("img",{className:o,src:u?"http://image.tmdb.org/t/p/w154".concat(u):"https://www.braasco.com//ASSETS/IMAGES/ITEMS/ZOOM/no_image.jpeg",alt:a,width:"154",height:"231"}),(0,Z.jsxs)("div",{className:c,children:[(0,Z.jsx)("h3",{children:a}),(0,Z.jsx)(k,{text:r,maxLine:"4",ellipsis:"..."})]})]})},e)}))})}},160:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var a=n(439),i=n(791),r=n(87),s=n(390),c=n(596),o=n(388),u=n(58),l=n(639),p="Search_wrapSearch__O4m1m",f="Search_wrapForm__0dnaR",h="Search_wrapBtn__4S8if",d="Search_wrapInput__7fWUg",v=n(184),m=function(t){var e=t.onSubmitSearchBar,n=t.value;return(0,v.jsx)("div",{className:p,children:(0,v.jsxs)("form",{className:f,onSubmit:e,children:[(0,v.jsx)("input",{className:d,type:"text",name:"search",autoComplete:"off",autoFocus:!0,defaultValue:n,placeholder:"Search movies"}),(0,v.jsx)("button",{className:h,children:(0,v.jsx)("span",{children:"Search"})})]})})},_=function(){var t,e=(0,i.useState)(!1),n=(0,a.Z)(e,2),p=n[0],f=n[1],h=(0,i.useState)([]),d=(0,a.Z)(h,2),_=d[0],w=d[1],x=(0,r.lr)(),y=(0,a.Z)(x,2),g=y[0],b=y[1],k=null!==(t=g.get("query"))&&void 0!==t?t:"";(0,i.useEffect)((function(){""!==k&&(_.length>0||(f(!0),(0,s.bI)("/search/movie",k).then((function(t){w(t.results)})).catch(s.NI).finally((function(){return f(!1)}))))}),[_,k]);return(0,v.jsxs)("div",{children:[(0,v.jsx)(m,{onSubmitSearchBar:function(t){t.preventDefault();var e=t.currentTarget.search.value.trim().toLowerCase().split(" ").join("+");if(""===e)return c.Am.info("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0437\u0430\u043f\u0438\u0442, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430!"),b({}),void w([]);e!==k?(b({query:e}),w([])):c.Am.info("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0442!")},value:k}),(0,v.jsxs)("section",{className:u.Z.section,children:[p&&(0,v.jsx)(l.a,{}),(0,v.jsx)(o.Z,{films:_})]})]})}},390:function(t,e,n){n.d(e,{Hx:function(){return _},NI:function(){return x},Y5:function(){return h},bI:function(){return p},uV:function(){return v},vw:function(){return u}});var a=n(165),i=n(861),r=n(243),s=n(596),c="https://api.themoviedb.org/3",o="733e69ecbc0d951ee5920192b66b3d6f";function u(t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,a.Z)().mark((function t(e){var n,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(c).concat(e,"?api_key=").concat(o),t.next=3,r.Z.get(n);case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)((0,a.Z)().mark((function t(e,n){var i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"?api_key=").concat(o,"&query=").concat(n),t.next=3,r.Z.get(i);case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t,e){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,a.Z)().mark((function t(e,n){var i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"/").concat(n,"?api_key=").concat(o),t.next=3,r.Z.get(i);case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)((0,a.Z)().mark((function t(e,n){var i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"/").concat(n,"/credits?api_key=").concat(o),t.next=3,r.Z.get(i);case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,a.Z)().mark((function t(e,n){var i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"/").concat(n,"/reviews?api_key=").concat(o),t.next=3,r.Z.get(i);case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){s.Am.error("\u041e\u0439! \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0430\u0431\u043e \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0456\u043d\u0448\u0438\u0439 \u0432\u0438\u0431\u0456\u0440!")}},58:function(t,e){e.Z={section:"Pages_section__rhEby",wrapDenails:"Pages_wrapDenails__y8rCZ",info:"Pages_info__KksUC",additionalInfo:"Pages_additionalInfo__bX31I",infoBtn:"Pages_infoBtn__6WwxP",wrapDenailsCard:"Pages_wrapDenailsCard__Au+zp",back:"Pages_back__8Em4Y"}}}]);
//# sourceMappingURL=160.12ee6d9e.chunk.js.map